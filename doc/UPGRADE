------------------------
このドキュメントについて
------------------------
　tDiaryは、バージョン番号の2桁目が偶数のもの(1.0.x、1.2.x...)がリリ
ースバージョン、奇数のもの(0.9.xx、1.1.x...)が開発バージョンとなって
います。このドキュメントでは、リリースバージョン間の変更点について解
説します。開発バージョンを使っている場合は、ChangeLogファイルを参照し
てください。

--------------
2.0と2.2の違い
--------------
■2.0から2.2移行時の注意■

1) いくつかのファイル名が変更になっています。

      plugin/01sp.rb  → plugin/50sp.rb
      plugin/ja/01sp.rb  → plugin/ja/50sp.rb
      plugin/en/01sp.rb  → plugin/en/50sp.rb
      plugin/zh/01sp.rb  → plugin/zh/50sp.rb

   2.2へのアップデートをする前に、上記のファイルをあらかじめ削除して
   おいてください。残っていると誤動作する場合があります。

2) リンク元の記録方法が変更になっています。リンク元は従来、月単位に記録
   していましたが、2.2からは日単位の記録になっています。このため、データ
   ディレクトリには自動的にYYYYMMDD.tdrというファイルが生成され、元の
   YYYYMM.tdrはYYYYMM.tdr~にリネームされて残されます。ディスク容量に余裕
   がない場合には、古いファイルは削除してかまいません。

■2.0から2.2への主な変更点■
  tDiary.orgのリリースを参照してください。

      http://www.tdiary.org/20071216.html

  プラグインの中にも廃止・統合されたファイルがあります。

--------------
1.4と2.0の違い
--------------
■1.4から2.0移行時の注意■

1) データ形式が変更になっています。1.4系ではバイナリ形式でしたが、2.0
   からは標準でテキスト形式になっています。保存形式は差し替え可能になっ
   ていますが、テキスト形式に変換することをお勧めします。詳しくは以下の
   ページを参照してください。

      http://www.tdiary.org/20021121.html

2) プラグインのインストール方法が変わっています。tDiaryインストール
   ディレクトリのmisc/pluginにプラグインファイルを入れておくと、設定画
   面から有効にするプラグインを選択できます。従来の方法でもインストール
   できますが、プラグインファイルが本体と言語リソースに分離されたことも
   あり、今後はこちらを推奨します。

3) ツッコミのメール通知を、本体内蔵からプラグインにしました。comment_mail-smtp.rb
   他のプラグインを使うようにしてください。

■1.4から2.0への主な変更点■

 1) 「長年日記」機能
 2) カテゴリ機能追加(http://www.tdiary.org/20030224.html)
 3) スタイル機能で記述形式を選択可能に(http://www.tdiary.org/20030225.html)
 4) 更新前に内容を確認できるプレビュー機能
 5) 設定画面の大幅機能拡張で絵日記などが可能に
 6) ツッコミやリンク元を制限できるフィルタ機能
 7) 更新画面に機能を追加できるプラグイン拡張
 8) 国際化機能。標準でja(日本語)、en(英語)、zh(中国語繁字体)に対応
 9) 各種ウェブログ機能(TrackBack、ping、RSS)対応(プラグイン併用)

--------------
1.2と1.4の違い
--------------
■1.2から1.4移行時の注意■

1) *.rhtml、*.rconf、*.rtxtが、ディレクトリskelに移動しています。こ
   れら以前のファイルは削除してかまいません。

2) ページ最上部に出ていたナビゲーションボタンが、プラグインとして独
   立し、自由な場所に配置できるようになりました。この副作用で、ヘッ
   ダ(@header)に「<%=navi%>」という文字列を含めないとナビゲーション
   ボタンが出てきません。移行後にブラウザからupdate.rbを開いて、ヘッ
	ダを変更してください。

■1.2から1.4への主な変更点■

 1) プラグインによる拡張機能
 2) 最新表示で月をまたいだ表示
 3) キャッシュによる高速化
 4) 複数日記の運用が簡単に
 5) 検索インデックス作成用squeeze.rbによる静的HTML生成
 6) モバイルモード対象機種を充実
 7) 特定の日付を隠せるようになった

--------------
1.0と1.2の違い
--------------
■1.0から1.2移行時の注意■

1) CSSがthemeディレクトリへ移動になっています。ここに*.cssを入れてお
   くと、設定画面から対話式にテーマを切り替えることができます。従来
	のデフォルトCSSは、default.cssとしてthemeディレクトリに再録されて
	います。

2) tdiary.confのフォーマットが少し変更になっています。1.1以前のtDiary
   から移行する場合には、以下の2行をtdiary.confの末尾に追加する必要が
   あります。これを加えないと後述する対話式の設定変更機能が使えません。

   @secure = false 
   load_cgi_conf 

3) ヘッダやフッタにeRuby書式を許可したのに伴い、カレンダーの挿入位置
   を自由にできるようにしました。このため、デフォルトではカレンダーは
   表示されません。従来のヘッダ(@header)、もしくはフッタ(@footer)に、
   「<%=calendar%>」という文字列を挿入して下さい。

4) CGIによる対話式設定が可能になりました。従来tdiary.confで設定して
   いた変数の多くはCGI経由で設定できます。しかし、いくつかの変数を除
   いて、一度CGI上で設定を変更してしまうと旧来のtdiary.confよりも優
   先されてしまいます。tdiary.conf.sampleにそのあたりの説明があるの
   で、良く読んでください。


■1.0から1.2への主な変更点■

 1) CSSを使ったテーマに対応
 2) ヘッダ(@header)とフッタ(@footer)にeRuby書式の記述が可能になった
 3) カレンダーの挿入位置をヘッダとフッタ内で自由に指定可能になった
 4) @multi_userで簡易マルチユーザモードを設定可能になった
 5) @date_formatで、日付の表示形式をカスタマイズ可能になった
 6) ブラウザ上で設定の変更ができるようになった
 7) 用語の変更(Referer→リンク元、段落→セクション) 
 8) 新しいツッコミを入れやすいようにリンクを追加
 9) 設定以上のツッコミがある場合に「More...」を表示
10) mod_ruby対応
11) 携帯端末の対応を拡充(各社携帯電話、ザウルス、Windows CE機) 
12) *.rbをCGIとして設定できないサーバ上への設置に対応(@index、@update)
13) 任意のツッコミを非表示にできるようになった
14) ドキュメントの充実
15) 多数のバグFIX 
